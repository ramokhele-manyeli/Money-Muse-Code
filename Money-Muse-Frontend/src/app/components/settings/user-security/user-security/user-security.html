<div class="user-security-layout">
  <!-- Navbar -->
  <app-navbar 
    [isOpen]="isMobileMenuOpen"
    [currentRoute]="currentRoute"
    (toggleMenu)="onToggleMobileMenu()"
    (closeMenu)="onCloseMobileMenu()"
    (navigateToRoute)="onNavigate($event)">
  </app-navbar>

  <!-- Main Content -->
  <main class="main-content">
    <div class="content-wrapper">
      <!-- Header -->
      <div class="page-header">
        <h1 class="page-title">Security</h1>
        <p class="page-subtitle">Manage your account security settings</p>
      </div>

      <!-- Security Card -->
      <div class="security-card">
        <h2 class="section-title">Security Settings</h2>
        
        <div class="security-sections">
          <!-- Change Password -->
          <div class="security-section">
            <div class="section-header">
              <div class="icon-container">
                <lucide-icon [name]="Lock" [size]="20" class="section-icon"></lucide-icon>
              </div>
              <div class="header-content">
                <h3 class="section-heading">Change Password</h3>
                <p class="section-description">
                  Update your password to keep your account secure
                </p>
              </div>
            </div>

            <div class="form-content">
              <!-- Current Password -->
              <div class="form-group">
                <label for="currentPassword" class="form-label">
                  Current Password
                  <span *ngIf="touched.currentPassword && !isCurrentPasswordValid" class="validation-error">
                    Required
                  </span>
                </label>
                <input
                  id="currentPassword"
                  type="password"
                  [(ngModel)]="currentPassword"
                  (blur)="onCurrentPasswordBlur()"
                  placeholder="Enter current password"
                  class="form-input"
                  [class.invalid]="touched.currentPassword && !isCurrentPasswordValid"
                />
              </div>

              <!-- New Password -->
              <div class="form-group">
                <label for="newPassword" class="form-label">
                  New Password
                  <span *ngIf="touched.newPassword && !isNewPasswordValid" class="validation-error">
                    Must be at least 8 characters
                  </span>
                  <span *ngIf="newPassword.length > 0 && isNewPasswordValid" class="password-strength" [ngClass]="getPasswordStrengthColor()">
                    {{ getPasswordStrength() | titlecase }} password
                  </span>
                </label>
                <input
                  id="newPassword"
                  type="password"
                  [(ngModel)]="newPassword"
                  (blur)="onNewPasswordBlur()"
                  placeholder="Enter new password"
                  class="form-input"
                  [class.invalid]="touched.newPassword && !isNewPasswordValid"
                  [class.valid]="touched.newPassword && isNewPasswordValid"
                />
              </div>

              <!-- Confirm Password -->
              <div class="form-group">
                <label for="confirmPassword" class="form-label">
                  Confirm New Password
                  <span *ngIf="touched.confirmPassword && !isConfirmPasswordValid" class="validation-error">
                    Passwords must match
                  </span>
                  <span *ngIf="touched.confirmPassword && isConfirmPasswordValid" class="validation-success">
                    Passwords match
                  </span>
                </label>
                <input
                  id="confirmPassword"
                  type="password"
                  [(ngModel)]="confirmPassword"
                  (blur)="onConfirmPasswordBlur()"
                  placeholder="Confirm new password"
                  class="form-input"
                  [class.invalid]="touched.confirmPassword && !isConfirmPasswordValid"
                  [class.valid]="touched.confirmPassword && isConfirmPasswordValid"
                />
              </div>

              <button 
                class="update-password-btn"
                [disabled]="!isFormValid"
                (click)="onChangePassword()">
                <lucide-icon [name]="Key" [size]="16" class="button-icon"></lucide-icon>
                Update Password
              </button>
            </div>
          </div>

          <!-- Security Tips -->
          <div class="security-tips">
            <h4 class="tips-title">Security Tips</h4>
            <ul class="tips-list">
              <li>• Use a strong, unique password</li>
              <li>• Never share your password with anyone</li>
              <li>• Change your password regularly</li>
              <li>• Use a password manager for better security</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </main>
</div>